"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect+sign-client@_7607849e1bd95aae02e8d875bacc39b9";
exports.ids = ["vendor-chunks/@walletconnect+sign-client@_7607849e1bd95aae02e8d875bacc39b9"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/@walletconnect+sign-client@_7607849e1bd95aae02e8d875bacc39b9/node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!******************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@walletconnect+sign-client@_7607849e1bd95aae02e8d875bacc39b9/node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ le),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ I),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ R),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ rs),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ is),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ ns),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ he),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ oe),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ os),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ ae),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ pe),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ce),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ L),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ U),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ X),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ M),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ ss),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ J),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ ts),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ G),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ F),\n/* harmony export */   SessionStore: () => (/* binding */ ws),\n/* harmony export */   SignClient: () => (/* binding */ ms),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ H),\n/* harmony export */   \"default\": () => (/* binding */ Q)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+core@2.11.2__c15475499bbff4e9022d9bdc6ffc542e/node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+logger@2.1.2/node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+types@2.11.2/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+utils@2.11.2/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/../../node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst J=\"wc\",F=2,X=\"client\",G=`${J}@${F}:${X}:`,M={name:X,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.com\"},ss={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_request_expire:\"session_request_expire\"},ts={database:\":memory:\"},H=\"WALLETCONNECT_DEEPLINK_CHOICE\",is={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},rs=\"history\",ns=\"0.3\",oe=\"proposal\",os=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_DAYS,ae=\"Proposal expired\",ce=\"session\",L=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS,le=\"engine\",R={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_SECONDS,prompt:!1,tag:1115}}},U={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS},I={idle:\"IDLE\",active:\"ACTIVE\"},pe=\"request\",he=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\"];var as=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,ue=(w,r,e)=>r in w?as(w,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):w[r]=e,g=(w,r)=>{for(var e in r||(r={}))ps.call(r,e)&&ue(w,e,r[e]);if(de)for(var e of de(r))hs.call(r,e)&&ue(w,e,r[e]);return w},D=(w,r)=>cs(w,ls(r));class ds extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(r){super(r),this.name=le,this.events=new (events__WEBPACK_IMPORTED_MODULE_1___default()),this.initialized=!1,this.ignoredPayloadTypes=[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1],this.requestQueue={state:I.idle,queue:[]},this.sessionRequestQueue={state:I.idle,queue:[]},this.requestQueueDelay=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();const s=D(g({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(s);const{pairingTopic:t,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:o,relays:a}=s;let c=t,p,d=!1;if(c&&(d=this.client.core.pairing.pairings.get(c).active),!c||!d){const{topic:T,uri:_}=await this.client.core.pairing.create();c=T,p=_}const h=await this.client.core.crypto.generateKeyPair(),N=R.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N),f=g({requiredNamespaces:i,optionalNamespaces:n,relays:a??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:m},o&&{sessionProperties:o}),{reject:k,resolve:O,done:we}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(N,ae);if(this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),async({error:T,session:_})=>{if(T)k(T);else if(_){_.self.publicKey=h;const B=D(g({},_),{requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces});await this.client.session.set(_.topic,B),await this.setExpiry(_.topic,_.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:_.peer.metadata}),O(B)}}),!c){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${c}`);throw new Error(T)}const W=await this.sendRequest({topic:c,method:\"wc_sessionPropose\",params:f,throwOnFailedPublish:!0});return await this.setProposal(W,g({id:W},f)),{uri:p,approval:we}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);const{id:s,relayProtocol:t,namespaces:i,sessionProperties:n}=e,o=this.client.proposal.get(s);let{pairingTopic:a,proposer:c,requiredNamespaces:p,optionalNamespaces:d}=o;a=a||\"\";const h=await this.client.core.crypto.generateKeyPair(),N=c.publicKey,m=await this.client.core.crypto.generateSharedKey(h,N);a&&s&&(await this.client.core.pairing.updateMetadata({topic:a,metadata:c.metadata}),await this.sendResult({id:s,topic:a,result:{relay:{protocol:t??\"irn\"},responderPublicKey:h}}),await this.client.proposal.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:a}));const f=g({relay:{protocol:t??\"irn\"},namespaces:i,pairingTopic:a,controller:{publicKey:h,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(L)},n&&{sessionProperties:n});await this.client.core.relayer.subscribe(m);const k=D(g({},f),{topic:m,requiredNamespaces:p,optionalNamespaces:d,pairingTopic:a,acknowledged:!1,self:f.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:h});await this.client.session.set(m,k);try{await this.sendRequest({topic:m,method:\"wc_sessionSettle\",params:f,throwOnFailedPublish:!0})}catch(O){throw this.client.logger.error(O),this.client.session.delete(m,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(m),O}return await this.setExpiry(m,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(L)),{topic:m,acknowledged:()=>new Promise(O=>setTimeout(()=>O(this.client.session.get(m)),500))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);const{id:s,reason:t}=e,{pairingTopic:i}=this.client.proposal.get(s);i&&(await this.sendError(s,i,t),await this.client.proposal.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);const{topic:s,namespaces:t}=e,i=await this.sendRequest({topic:s,method:\"wc_sessionUpdate\",params:{namespaces:t}}),{done:n,resolve:o,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",i),({error:c})=>{c?a(c):o()}),await this.client.session.update(s,{namespaces:t}),{acknowledged:n}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);const{topic:s}=e,t=await this.sendRequest({topic:s,method:\"wc_sessionExtend\",params:{}}),{done:i,resolve:n,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",t),({error:a})=>{a?o(a):n()}),await this.setExpiry(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(L)),{acknowledged:i}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);const{chainId:s,request:t,topic:i,expiry:n=R.wc_sessionRequest.req.ttl}=e,o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:a,resolve:c,reject:p}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(n,\"Request expired. Please try again.\");return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",o),({error:d,result:h})=>{d?p(d):c(h)}),await Promise.all([new Promise(async d=>{await this.sendRequest({clientRpcId:o,topic:i,method:\"wc_sessionRequest\",params:{request:D(g({},t),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(n)}),chainId:s},expiry:n,throwOnFailedPublish:!0}).catch(h=>p(h)),this.client.events.emit(\"session_request_sent\",{topic:i,request:t,chainId:s,id:o}),d()}),new Promise(async d=>{const h=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,H);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:o,topic:i,wcDeepLink:h}),d()}),a()]).then(d=>d[2])},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);const{topic:s,response:t}=e,{id:i}=t;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?await this.sendResult({id:i,topic:s,result:t.result,throwOnFailedPublish:!0}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&await this.sendError(i,s,t.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);const{topic:s}=e;if(this.client.session.keys.includes(s)){const t=await this.sendRequest({topic:s,method:\"wc_sessionPing\",params:{}}),{done:i,resolve:n,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",t),({error:a})=>{a?o(a):n()}),await i()}else this.client.core.pairing.pairings.keys.includes(s)&&await this.client.core.pairing.ping({topic:s})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);const{topic:s,event:t,chainId:i}=e;await this.sendRequest({topic:s,method:\"wc_sessionEvent\",params:{event:t,chainId:i}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);const{topic:s}=e;if(this.client.session.keys.includes(s))await this.sendRequest({topic:s,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:s,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(s))await this.client.core.pairing.disconnect({topic:s});else{const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${s}`);throw new Error(t)}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(s,e))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const s=this.client.core.pairing.pairings.get(e.pairingTopic),t=this.client.core.pairing.pairings.getAll().filter(i=>{var n,o;return((n=i.peerMetadata)==null?void 0:n.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==s.topic});if(t.length===0)return;this.client.logger.info(`Cleaning up ${t.length} duplicate pairing(s)`),await Promise.all(t.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(s){this.client.logger.error(s)}},this.deleteSession=async e=>{const{topic:s,expirerHasDeleted:t=!1,emitEvent:i=!0,id:n=0}=e,{self:o}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),t||this.client.core.expirer.del(s),this.client.core.storage.removeItem(H).catch(a=>this.client.logger.warn(a)),this.getPendingSessionRequests().forEach(a=>{a.topic===s&&this.deletePendingSessionRequest(a.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),i&&this.client.events.emit(\"session_delete\",{id:n,topic:s})},this.deleteProposal=async(e,s)=>{await Promise.all([this.client.proposal.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),s?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,s,t=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,s),t?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),t&&(this.sessionRequestQueue.state=I.idle,this.client.events.emit(\"session_request_expire\",{id:e}))},this.setExpiry=async(e,s)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:s}),this.client.core.expirer.set(e,s)},this.setProposal=async(e,s)=>{await this.client.proposal.set(e,s),this.client.core.expirer.set(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(R.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async e=>{const{id:s,topic:t,params:i,verifyContext:n}=e,o=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(R.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(s,{id:s,topic:t,params:i,verifyContext:n}),o&&this.client.core.expirer.set(s,o)},this.sendRequest=async e=>{const{topic:s,method:t,params:i,expiry:n,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c}=e,p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(t,i,a);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isBrowser)()&&he.includes(t)){const N=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(p));this.client.core.verify.register({attestationId:N})}const d=await this.client.core.crypto.encode(s,p),h=R[t].req;return n&&(h.ttl=n),o&&(h.id=o),this.client.core.history.set(s,p),c?(h.internal=D(g({},h.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,d,h)):this.client.core.relayer.publish(s,d,h).catch(N=>this.client.logger.error(N)),p.id},this.sendResult=async e=>{const{id:s,topic:t,result:i,throwOnFailedPublish:n}=e,o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(s,i),a=await this.client.core.crypto.encode(t,o),c=await this.client.core.history.get(t,s),p=R[c.request.method].res;n?(p.internal=D(g({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,a,p)):this.client.core.relayer.publish(t,a,p).catch(d=>this.client.logger.error(d)),await this.client.core.history.resolve(o)},this.sendError=async(e,s,t)=>{const i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(e,t),n=await this.client.core.crypto.encode(s,i),o=await this.client.core.history.get(s,e),a=R[o.request.method].res;this.client.core.relayer.publish(s,n,a),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const e=[],s=[];this.client.session.getAll().forEach(t=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(t.expiry)&&(i=!0),this.client.core.crypto.keychain.has(t.topic)||(i=!0),i&&e.push(t.topic)}),this.client.proposal.getAll().forEach(t=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(t.expiryTimestamp)&&s.push(t.id)}),await Promise.all([...e.map(t=>this.deleteSession({topic:t})),...s.map(t=>this.deleteProposal(t))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===I.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=I.active;const e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise(s=>setTimeout(s,300))}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=I.idle},this.processRequest=e=>{const{topic:s,payload:t}=e,i=t.method;switch(i){case\"wc_sessionPropose\":return this.onSessionProposeRequest(s,t);case\"wc_sessionSettle\":return this.onSessionSettleRequest(s,t);case\"wc_sessionUpdate\":return this.onSessionUpdateRequest(s,t);case\"wc_sessionExtend\":return this.onSessionExtendRequest(s,t);case\"wc_sessionPing\":return this.onSessionPingRequest(s,t);case\"wc_sessionDelete\":return this.onSessionDeleteRequest(s,t);case\"wc_sessionRequest\":return this.onSessionRequest(s,t);case\"wc_sessionEvent\":return this.onSessionEventRequest(s,t);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async e=>{const{topic:s,payload:t}=e,i=(await this.client.core.history.get(s,t.id)).request.method;switch(i){case\"wc_sessionPropose\":return this.onSessionProposeResponse(s,t);case\"wc_sessionSettle\":return this.onSessionSettleResponse(s,t);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(s,t);case\"wc_sessionExtend\":return this.onSessionExtendResponse(s,t);case\"wc_sessionPing\":return this.onSessionPingResponse(s,t);case\"wc_sessionRequest\":return this.onSessionRequestResponse(s,t);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:s}=e,{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(t)},this.onSessionProposeRequest=async(e,s)=>{const{params:t,id:i}=s;try{this.isValidConnect(g({},s.params));const n=t.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(R.wc_sessionPropose.req.ttl),o=g({id:i,pairingTopic:e,expiryTimestamp:n},t);await this.setProposal(i,o);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),c=await this.getVerifyContext(a,o.proposer.metadata);this.client.events.emit(\"session_proposal\",{id:i,params:o,verifyContext:c})}catch(n){await this.sendError(i,e,n),this.client.logger.error(n)}},this.onSessionProposeResponse=async(e,s)=>{const{id:t}=s;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)){const{result:i}=s;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:i});const n=this.client.proposal.get(t);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const o=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",sessionTopic:c});const p=await this.client.core.relayer.subscribe(c);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:p}),await this.client.core.pairing.activate({topic:e})}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&(await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),{error:s.error}))},this.onSessionSettleRequest=async(e,s)=>{const{id:t,params:i}=s;try{this.isValidSessionSettleRequest(i);const{relay:n,controller:o,expiry:a,namespaces:c,sessionProperties:p,pairingTopic:d}=s.params,h=g({topic:e,relay:n,expiry:a,namespaces:c,acknowledged:!0,pairingTopic:d,requiredNamespaces:{},optionalNamespaces:{},controller:o.publicKey,self:{publicKey:\"\",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p});await this.sendResult({id:s.id,topic:e,result:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),{session:h}),this.cleanupDuplicatePairings(h)}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.onSessionSettleResponse=async(e,s)=>{const{id:t}=s;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",t),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&(await this.client.session.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",t),{error:s.error}))},this.onSessionUpdateRequest=async(e,s)=>{const{params:t,id:i}=s;try{const n=`${e}_session_update`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(n);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidUpdate(g({topic:e},t)),await this.client.session.update(e,{namespaces:t.namespaces}),await this.sendResult({id:i,topic:e,result:!0}),this.client.events.emit(\"session_update\",{id:i,topic:e,params:t}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(n,i)}catch(n){await this.sendError(i,e,n),this.client.logger.error(n)}},this.isRequestOutOfSync=(e,s)=>parseInt(s.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,s)=>{const{id:t}=s;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",t),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",t),{error:s.error})},this.onSessionExtendRequest=async(e,s)=>{const{id:t}=s;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(L)),await this.sendResult({id:t,topic:e,result:!0}),this.client.events.emit(\"session_extend\",{id:t,topic:e})}catch(i){await this.sendError(t,e,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(e,s)=>{const{id:t}=s;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",t),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",t),{error:s.error})},this.onSessionPingRequest=async(e,s)=>{const{id:t}=s;try{this.isValidPing({topic:e}),await this.sendResult({id:t,topic:e,result:!0}),this.client.events.emit(\"session_ping\",{id:t,topic:e})}catch(i){await this.sendError(t,e,i),this.client.logger.error(i)}},this.onSessionPingResponse=(e,s)=>{const{id:t}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",t),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",t),{error:s.error})},500)},this.onSessionDeleteRequest=async(e,s)=>{const{id:t}=s;try{this.isValidDisconnect({topic:e,reason:s.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:e,id:t}))})}),this.sendResult({id:t,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})])}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(e,s)=>{const{id:t,params:i}=s;try{this.isValidRequest(g({topic:e},i));const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",i,t))),o=this.client.session.get(e),a=await this.getVerifyContext(n,o.peer.metadata),c={id:t,topic:e,params:i,verifyContext:a};await this.setPendingSessionRequest(c),this.addSessionRequestToSessionRequestQueue(c),this.processSessionRequestQueue()}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.onSessionRequestResponse=(e,s)=>{const{id:t}=s;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",t),{result:s.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",t),{error:s.error})},this.onSessionEventRequest=async(e,s)=>{const{id:t,params:i}=s;try{const n=`${e}_session_event_${i.event.name}`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(n);if(o&&this.isRequestOutOfSync(o,t)){this.client.logger.info(`Discarding out of sync request - ${t}`);return}this.isValidEmit(g({topic:e},i)),this.client.events.emit(\"session_event\",{id:t,topic:e,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(n,t)}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=I.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:s})=>{const t=this.client.core.history.pending;t.length>0&&t.filter(i=>i.topic===e&&i.request.method===\"wc_sessionRequest\").forEach(i=>{this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:s})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===I.active){this.client.logger.info(\"session request queue is already active.\");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=I.active,this.client.events.emit(\"session_request\",e)}catch(s){this.client.logger.error(s)}},this.onPairingCreated=e=>{if(e.active)return;const s=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);s&&this.onSessionProposeRequest(e.topic,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer,sessionProperties:s.sessionProperties},s.id))},this.isValidConnect=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(e)}`);throw new Error(a)}const{pairingTopic:s,requiredNamespaces:t,optionalNamespaces:i,sessionProperties:n,relays:o}=e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)||await this.isValidPairingTopic(s),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(o,!0)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${o}`);throw new Error(a)}!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(t)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(t)!==0&&this.validateNamespaces(t,\"requiredNamespaces\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)||this.validateSessionProps(n,\"sessionProperties\")},this.validateNamespaces=(e,s)=>{const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(e,\"connect()\",s);if(t)throw new Error(t.message)},this.isValidApprove=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${e}`).message);const{id:s,namespaces:t,relayProtocol:i,sessionProperties:n}=e;await this.isValidProposalId(s);const o=this.client.proposal.get(s),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(t,\"approve()\");if(a)throw new Error(a.message);const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(o.requiredNamespaces,t,\"approve()\");if(c)throw new Error(c.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:p}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(p)}(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)||this.validateSessionProps(n,\"sessionProperties\")},this.isValidReject=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${e}`);throw new Error(i)}const{id:s,reason:t}=e;if(await this.isValidProposalId(s),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(t)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(t)}`);throw new Error(i)}},this.isValidSessionSettleRequest=e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${e}`);throw new Error(c)}const{relay:s,controller:t,namespaces:i,expiry:n}=e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(s)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(c)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(t,\"onSessionSettleRequest()\");if(o)throw new Error(o.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(n)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(c)}},this.isValidUpdate=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${e}`);throw new Error(a)}const{topic:s,namespaces:t}=e;await this.isValidSessionTopic(s);const i=this.client.session.get(s),n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(t,\"update()\");if(n)throw new Error(n.message);const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,t,\"update()\");if(o)throw new Error(o.message)},this.isValidExtend=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionTopic(s)},this.isValidRequest=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${e}`);throw new Error(a)}const{topic:s,request:t,chainId:i,expiry:n}=e;await this.isValidSessionTopic(s);const{namespaces:o}=this.client.session.get(s);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(o,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(t)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(o,i,t.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${t.method}`);throw new Error(a)}if(n&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(n,U)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${n}. Expiry must be a number (in seconds) between ${U.min} and ${U.max}`);throw new Error(a)}},this.isValidRespond=async e=>{var s;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${e}`);throw new Error(n)}const{topic:t,response:i}=e;try{await this.isValidSessionTopic(t)}catch(n){throw(s=e?.response)!=null&&s.id&&this.cleanupAfterResponse(e),n}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(n)}},this.isValidPing=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionOrPairingTopic(s)},this.isValidEmit=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${e}`);throw new Error(o)}const{topic:s,event:t,chainId:i}=e;await this.isValidSessionTopic(s);const{namespaces:n}=this.client.session.get(s);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(t)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(t)}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(n,i,t.name)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(t)}`);throw new Error(o)}},this.isValidDisconnect=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionOrPairingTopic(s)},this.getVerifyContext=async(e,s)=>{const t={verified:{verifyUrl:s.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:s.url||\"\"}};try{const i=await this.client.core.verify.resolve({attestationId:e,verifyUrl:s.verifyUrl});i&&(t.verified.origin=i.origin,t.verified.isScam=i.isScam,t.verified.validation=i.origin===new URL(s.url).origin?\"VALID\":\"INVALID\")}catch(i){this.client.logger.info(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(t)}`),t},this.validateSessionProps=(e,s)=>{Object.values(e).forEach(t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(t,!1)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(i)}})}}async isInitialized(){if(!this.initialized){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(r)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,async r=>{const{topic:e,message:s}=r;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(s)))return;const t=await this.client.core.crypto.decode(e,s);try{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(t)?(this.client.core.history.set(e,t),this.onRelayEventRequest({topic:e,payload:t})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(t)?(await this.client.core.history.resolve(t),await this.onRelayEventResponse({topic:e,payload:t}),this.client.core.history.delete(e,t.id)):this.onRelayEventUnknownPayload({topic:e,payload:t})}catch(i){this.client.logger.error(i)}})}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async r=>{const{topic:e,id:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(r.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:e})):s&&(await this.deleteProposal(s,!0),this.client.events.emit(\"proposal_expire\",{id:s}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,r=>this.onPairingCreated(r))}isValidPairingTopic(r){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${r}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(r)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${r}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(r).expiry)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${r}`);throw new Error(e)}}async isValidSessionTopic(r){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${r}`);throw new Error(e)}if(!this.client.session.keys.includes(r)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${r}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(r).expiry)){await this.deleteSession({topic:r});const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${r}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(r)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${r}`);throw await this.deleteSession({topic:r}),new Error(e)}}async isValidSessionOrPairingTopic(r){if(this.client.session.keys.includes(r))await this.isValidSessionTopic(r);else if(this.client.core.pairing.pairings.keys.includes(r))this.isValidPairingTopic(r);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${r}`);throw new Error(e)}else{const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${r}`);throw new Error(e)}}async isValidProposalId(r){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(r)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${r}`);throw new Error(e)}if(!this.client.proposal.keys.includes(r)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${r}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(r).expiryTimestamp)){await this.deleteProposal(r);const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${r}`);throw new Error(e)}}}class us extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(r,e){super(r,e,oe,G),this.core=r,this.logger=e}}class ge extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(r,e){super(r,e,ce,G),this.core=r,this.logger=e}}class gs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(r,e){super(r,e,pe,G,s=>s.id),this.core=r,this.logger=e}}class Q extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(r){super(r),this.protocol=J,this.version=F,this.name=M.name,this.events=new events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.on=(s,t)=>this.events.on(s,t),this.once=(s,t)=>this.events.once(s,t),this.off=(s,t)=>this.events.off(s,t),this.removeListener=(s,t)=>this.events.removeListener(s,t),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=async s=>{try{return await this.engine.connect(s)}catch(t){throw this.logger.error(t.message),t}},this.pair=async s=>{try{return await this.engine.pair(s)}catch(t){throw this.logger.error(t.message),t}},this.approve=async s=>{try{return await this.engine.approve(s)}catch(t){throw this.logger.error(t.message),t}},this.reject=async s=>{try{return await this.engine.reject(s)}catch(t){throw this.logger.error(t.message),t}},this.update=async s=>{try{return await this.engine.update(s)}catch(t){throw this.logger.error(t.message),t}},this.extend=async s=>{try{return await this.engine.extend(s)}catch(t){throw this.logger.error(t.message),t}},this.request=async s=>{try{return await this.engine.request(s)}catch(t){throw this.logger.error(t.message),t}},this.respond=async s=>{try{return await this.engine.respond(s)}catch(t){throw this.logger.error(t.message),t}},this.ping=async s=>{try{return await this.engine.ping(s)}catch(t){throw this.logger.error(t.message),t}},this.emit=async s=>{try{return await this.engine.emit(s)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async s=>{try{return await this.engine.disconnect(s)}catch(t){throw this.logger.error(t.message),t}},this.find=s=>{try{return this.engine.find(s)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=r?.name||M.name,this.metadata=r?.metadata||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAppMetadata)();const e=typeof r?.logger<\"u\"&&typeof r?.logger!=\"string\"?r.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:r?.logger||M.logger}));this.core=r?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(r),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(e,this.name),this.session=new ge(this.core,this.logger),this.proposal=new us(this.core,this.logger),this.pendingRequest=new gs(this.core,this.logger),this.engine=new ds(this)}static async init(r){const e=new Q(r);return await e.initialize(),e}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info(\"SignClient Initialization Success\")}catch(r){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(r.message),r}}}const ws=ge,ms=Q;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3YWxsZXRjb25uZWN0K3NpZ24tY2xpZW50QF83NjA3ODQ5ZTFiZDk1YWFlMDJlOGQ4NzViYWNjMzliOS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtoRCxpQ0FBaUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sNkVBQTZFLEtBQUssOFhBQThYLEtBQUssb0JBQW9CLHVDQUF1QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixvQkFBb0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLGtCQUFrQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLCtEQUFFLG9CQUFvQixNQUFNLElBQUksK0RBQUUsc0JBQXNCLElBQUksSUFBSSw2REFBQyxLQUFLLDJEQUFFLENBQUMsSUFBSSw0QkFBNEIsNEVBQTRFLG1PQUFtTyxrREFBa0QsbUJBQW1CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELFNBQVMsc0JBQXNCLGlCQUFpQix5REFBRSxDQUFDLGVBQWUsc0NBQXND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QThKLGtDQUFrQyx3REFBd0QsU0FBUyw2RkFBNkYsaUJBQW1vQjtBQUN0N2tDIiwic291cmNlcyI6WyJEOlxcTXVsdGlBZ2VudFdyaXRlcnpcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEB3YWxsZXRjb25uZWN0K3NpZ24tY2xpZW50QF83NjA3ODQ5ZTFiZDk1YWFlMDJlOGQ4NzViYWNjMzliOVxcbm9kZV9tb2R1bGVzXFxAd2FsbGV0Y29ubmVjdFxcc2lnbi1jbGllbnRcXGRpc3RcXGluZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wgYXMgbWUsUkVMQVlFUl9FVkVOVFMgYXMgWixWRVJJRllfU0VSVkVSIGFzIHllLEVYUElSRVJfRVZFTlRTIGFzIFNlLFBBSVJJTkdfRVZFTlRTIGFzIEVlLFN0b3JlIGFzIEssQ29yZSBhcyBSZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9jb3JlXCI7aW1wb3J0e3Bpbm8gYXMgSWUsZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgX2UsZ2VuZXJhdGVDaGlsZExvZ2dlciBhcyBxZSxnZXRMb2dnZXJDb250ZXh0IGFzIE5lfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJRW5naW5lIGFzIGZlLElTaWduQ2xpZW50IGFzIFBlfWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e1RZUEVfMSBhcyB2ZSxjYWxjRXhwaXJ5IGFzIHEsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgQyxlbmdpbmVFdmVudCBhcyB1LGdldEludGVybmFsRXJyb3IgYXMgbCxnZXRTZGtFcnJvciBhcyBTLGdldERlZXBMaW5rIGFzIE9lLGhhbmRsZURlZXBsaW5rUmVkaXJlY3QgYXMgVGUsaXNTZXNzaW9uQ29tcGF0aWJsZSBhcyBWZSxpc0Jyb3dzZXIgYXMgeGUsaGFzaE1lc3NhZ2UgYXMgeixpc0V4cGlyZWQgYXMgVixNZW1vcnlTdG9yZSBhcyAkLGlzVmFsaWRQYXJhbXMgYXMgeSxpc1VuZGVmaW5lZCBhcyBBLGlzVmFsaWRSZWxheXMgYXMgRGUsaXNWYWxpZE9iamVjdCBhcyBlZSxpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzIGFzIENlLGlzVmFsaWROYW1lc3BhY2VzIGFzIFksaXNDb25mb3JtaW5nTmFtZXNwYWNlcyBhcyBzZSxpc1ZhbGlkU3RyaW5nIGFzIGIsaXNWYWxpZEVycm9yUmVhc29uIGFzIEFlLGlzVmFsaWRSZWxheSBhcyBiZSxpc1ZhbGlkQ29udHJvbGxlciBhcyBMZSxpc1ZhbGlkTmFtZXNwYWNlc0NoYWluSWQgYXMgdGUsaXNWYWxpZFJlcXVlc3QgYXMgJGUsaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0IGFzIEdlLGlzVmFsaWRSZXF1ZXN0RXhwaXJ5IGFzIE1lLGlzVmFsaWRSZXNwb25zZSBhcyBVZSxpc1ZhbGlkRXZlbnQgYXMgUWUsaXNWYWxpZE5hbWVzcGFjZXNFdmVudCBhcyBrZSxwYXJzZUV4cGlyZXJUYXJnZXQgYXMgS2UsaXNWYWxpZElkIGFzIHplLGdldEFwcE1ldGFkYXRhIGFzIFllfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0IGplLHtFdmVudEVtaXR0ZXIgYXMgSmV9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e1RISVJUWV9EQVlTIGFzIEZlLFNFVkVOX0RBWVMgYXMgaWUsRklWRV9NSU5VVEVTIGFzIEUsT05FX0RBWSBhcyB4LFRISVJUWV9TRUNPTkRTIGFzIHJlLE9ORV9TRUNPTkQgYXMgWGUsdG9NaWxpc2Vjb25kcyBhcyBuZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3BheWxvYWRJZCBhcyBIZSxpc0pzb25ScGNSZXN1bHQgYXMgUCxpc0pzb25ScGNFcnJvciBhcyB2LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIGosZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyBXZSxmb3JtYXRKc29uUnBjRXJyb3IgYXMgQmUsaXNKc29uUnBjUmVxdWVzdCBhcyBaZSxpc0pzb25ScGNSZXNwb25zZSBhcyBlc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y29uc3QgSj1cIndjXCIsRj0yLFg9XCJjbGllbnRcIixHPWAke0p9QCR7Rn06JHtYfTpgLE09e25hbWU6WCxsb2dnZXI6XCJlcnJvclwiLGNvbnRyb2xsZXI6ITEscmVsYXlVcmw6XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0LmNvbVwifSxzcz17c2Vzc2lvbl9wcm9wb3NhbDpcInNlc3Npb25fcHJvcG9zYWxcIixzZXNzaW9uX3VwZGF0ZTpcInNlc3Npb25fdXBkYXRlXCIsc2Vzc2lvbl9leHRlbmQ6XCJzZXNzaW9uX2V4dGVuZFwiLHNlc3Npb25fcGluZzpcInNlc3Npb25fcGluZ1wiLHNlc3Npb25fZGVsZXRlOlwic2Vzc2lvbl9kZWxldGVcIixzZXNzaW9uX2V4cGlyZTpcInNlc3Npb25fZXhwaXJlXCIsc2Vzc2lvbl9yZXF1ZXN0Olwic2Vzc2lvbl9yZXF1ZXN0XCIsc2Vzc2lvbl9yZXF1ZXN0X3NlbnQ6XCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHNlc3Npb25fZXZlbnQ6XCJzZXNzaW9uX2V2ZW50XCIscHJvcG9zYWxfZXhwaXJlOlwicHJvcG9zYWxfZXhwaXJlXCIsc2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZTpcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIn0sdHM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sSD1cIldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFXCIsaXM9e2NyZWF0ZWQ6XCJoaXN0b3J5X2NyZWF0ZWRcIix1cGRhdGVkOlwiaGlzdG9yeV91cGRhdGVkXCIsZGVsZXRlZDpcImhpc3RvcnlfZGVsZXRlZFwiLHN5bmM6XCJoaXN0b3J5X3N5bmNcIn0scnM9XCJoaXN0b3J5XCIsbnM9XCIwLjNcIixvZT1cInByb3Bvc2FsXCIsb3M9RmUsYWU9XCJQcm9wb3NhbCBleHBpcmVkXCIsY2U9XCJzZXNzaW9uXCIsTD1pZSxsZT1cImVuZ2luZVwiLFI9e3djX3Nlc3Npb25Qcm9wb3NlOntyZXE6e3R0bDpFLHByb21wdDohMCx0YWc6MTEwMH0scmVzOnt0dGw6RSxwcm9tcHQ6ITEsdGFnOjExMDF9fSx3Y19zZXNzaW9uU2V0dGxlOntyZXE6e3R0bDpFLHByb21wdDohMSx0YWc6MTEwMn0scmVzOnt0dGw6RSxwcm9tcHQ6ITEsdGFnOjExMDN9fSx3Y19zZXNzaW9uVXBkYXRlOntyZXE6e3R0bDp4LHByb21wdDohMSx0YWc6MTEwNH0scmVzOnt0dGw6eCxwcm9tcHQ6ITEsdGFnOjExMDV9fSx3Y19zZXNzaW9uRXh0ZW5kOntyZXE6e3R0bDp4LHByb21wdDohMSx0YWc6MTEwNn0scmVzOnt0dGw6eCxwcm9tcHQ6ITEsdGFnOjExMDd9fSx3Y19zZXNzaW9uUmVxdWVzdDp7cmVxOnt0dGw6RSxwcm9tcHQ6ITAsdGFnOjExMDh9LHJlczp7dHRsOkUscHJvbXB0OiExLHRhZzoxMTA5fX0sd2Nfc2Vzc2lvbkV2ZW50OntyZXE6e3R0bDpFLHByb21wdDohMCx0YWc6MTExMH0scmVzOnt0dGw6RSxwcm9tcHQ6ITEsdGFnOjExMTF9fSx3Y19zZXNzaW9uRGVsZXRlOntyZXE6e3R0bDp4LHByb21wdDohMSx0YWc6MTExMn0scmVzOnt0dGw6eCxwcm9tcHQ6ITEsdGFnOjExMTN9fSx3Y19zZXNzaW9uUGluZzp7cmVxOnt0dGw6cmUscHJvbXB0OiExLHRhZzoxMTE0fSxyZXM6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjExMTV9fX0sVT17bWluOkUsbWF4OmllfSxJPXtpZGxlOlwiSURMRVwiLGFjdGl2ZTpcIkFDVElWRVwifSxwZT1cInJlcXVlc3RcIixoZT1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCJdO3ZhciBhcz1PYmplY3QuZGVmaW5lUHJvcGVydHksY3M9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsbHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsZGU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxwcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGhzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsdWU9KHcscixlKT0+ciBpbiB3P2FzKHcscix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOndbcl09ZSxnPSh3LHIpPT57Zm9yKHZhciBlIGluIHJ8fChyPXt9KSlwcy5jYWxsKHIsZSkmJnVlKHcsZSxyW2VdKTtpZihkZSlmb3IodmFyIGUgb2YgZGUocikpaHMuY2FsbChyLGUpJiZ1ZSh3LGUscltlXSk7cmV0dXJuIHd9LEQ9KHcscik9PmNzKHcsbHMocikpO2NsYXNzIGRzIGV4dGVuZHMgZmV7Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5uYW1lPWxlLHRoaXMuZXZlbnRzPW5ldyBqZSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuaWdub3JlZFBheWxvYWRUeXBlcz1bdmVdLHRoaXMucmVxdWVzdFF1ZXVlPXtzdGF0ZTpJLmlkbGUscXVldWU6W119LHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZT17c3RhdGU6SS5pZGxlLHF1ZXVlOltdfSx0aGlzLnJlcXVlc3RRdWV1ZURlbGF5PVhlLHRoaXMuaW5pdD1hc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyhSKX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LG5lKHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKSl9LHRoaXMuY29ubmVjdD1hc3luYyBlPT57YXdhaXQgdGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1EKGcoe30sZSkse3JlcXVpcmVkTmFtZXNwYWNlczplLnJlcXVpcmVkTmFtZXNwYWNlc3x8e30sb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzfHx7fX0pO2F3YWl0IHRoaXMuaXNWYWxpZENvbm5lY3Qocyk7Y29uc3R7cGFpcmluZ1RvcGljOnQscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOm4sc2Vzc2lvblByb3BlcnRpZXM6byxyZWxheXM6YX09cztsZXQgYz10LHAsZD0hMTtpZihjJiYoZD10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KGMpLmFjdGl2ZSksIWN8fCFkKXtjb25zdHt0b3BpYzpULHVyaTpffT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKCk7Yz1ULHA9X31jb25zdCBoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLE49Ui53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsfHxFLG09cShOKSxmPWcoe3JlcXVpcmVkTmFtZXNwYWNlczppLG9wdGlvbmFsTmFtZXNwYWNlczpuLHJlbGF5czphPz9be3Byb3RvY29sOm1lfV0scHJvcG9zZXI6e3B1YmxpY0tleTpoLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6bX0sbyYme3Nlc3Npb25Qcm9wZXJ0aWVzOm99KSx7cmVqZWN0OmsscmVzb2x2ZTpPLGRvbmU6d2V9PUMoTixhZSk7aWYodGhpcy5ldmVudHMub25jZSh1KFwic2Vzc2lvbl9jb25uZWN0XCIpLGFzeW5jKHtlcnJvcjpULHNlc3Npb246X30pPT57aWYoVClrKFQpO2Vsc2UgaWYoXyl7Xy5zZWxmLnB1YmxpY0tleT1oO2NvbnN0IEI9RChnKHt9LF8pLHtyZXF1aXJlZE5hbWVzcGFjZXM6Zi5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOmYub3B0aW9uYWxOYW1lc3BhY2VzfSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoXy50b3BpYyxCKSxhd2FpdCB0aGlzLnNldEV4cGlyeShfLnRvcGljLF8uZXhwaXJ5KSxjJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmMsbWV0YWRhdGE6Xy5wZWVyLm1ldGFkYXRhfSksTyhCKX19KSwhYyl7Y29uc3R7bWVzc2FnZTpUfT1sKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYGNvbm5lY3QoKSBwYWlyaW5nIHRvcGljOiAke2N9YCk7dGhyb3cgbmV3IEVycm9yKFQpfWNvbnN0IFc9YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6YyxtZXRob2Q6XCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHBhcmFtczpmLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSk7cmV0dXJuIGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwoVyxnKHtpZDpXfSxmKSkse3VyaTpwLGFwcHJvdmFsOndlfX0sdGhpcy5wYWlyPWFzeW5jIGU9Pihhd2FpdCB0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcihlKSksdGhpcy5hcHByb3ZlPWFzeW5jIGU9Pnthd2FpdCB0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRBcHByb3ZlKGUpO2NvbnN0e2lkOnMscmVsYXlQcm90b2NvbDp0LG5hbWVzcGFjZXM6aSxzZXNzaW9uUHJvcGVydGllczpufT1lLG89dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHMpO2xldHtwYWlyaW5nVG9waWM6YSxwcm9wb3NlcjpjLHJlcXVpcmVkTmFtZXNwYWNlczpwLG9wdGlvbmFsTmFtZXNwYWNlczpkfT1vO2E9YXx8XCJcIjtjb25zdCBoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLE49Yy5wdWJsaWNLZXksbT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShoLE4pO2EmJnMmJihhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmEsbWV0YWRhdGE6Yy5tZXRhZGF0YX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzphLHJlc3VsdDp7cmVsYXk6e3Byb3RvY29sOnQ/P1wiaXJuXCJ9LHJlc3BvbmRlclB1YmxpY0tleTpofX0pLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZShzLFMoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzphfSkpO2NvbnN0IGY9Zyh7cmVsYXk6e3Byb3RvY29sOnQ/P1wiaXJuXCJ9LG5hbWVzcGFjZXM6aSxwYWlyaW5nVG9waWM6YSxjb250cm9sbGVyOntwdWJsaWNLZXk6aCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5OnEoTCl9LG4mJntzZXNzaW9uUHJvcGVydGllczpufSk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShtKTtjb25zdCBrPUQoZyh7fSxmKSx7dG9waWM6bSxyZXF1aXJlZE5hbWVzcGFjZXM6cCxvcHRpb25hbE5hbWVzcGFjZXM6ZCxwYWlyaW5nVG9waWM6YSxhY2tub3dsZWRnZWQ6ITEsc2VsZjpmLmNvbnRyb2xsZXIscGVlcjp7cHVibGljS2V5OmMucHVibGljS2V5LG1ldGFkYXRhOmMubWV0YWRhdGF9LGNvbnRyb2xsZXI6aH0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KG0sayk7dHJ5e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOm0sbWV0aG9kOlwid2Nfc2Vzc2lvblNldHRsZVwiLHBhcmFtczpmLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSl9Y2F0Y2goTyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKE8pLHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKG0sUyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUobSksT31yZXR1cm4gYXdhaXQgdGhpcy5zZXRFeHBpcnkobSxxKEwpKSx7dG9waWM6bSxhY2tub3dsZWRnZWQ6KCk9Pm5ldyBQcm9taXNlKE89PnNldFRpbWVvdXQoKCk9Pk8odGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQobSkpLDUwMCkpfX0sdGhpcy5yZWplY3Q9YXN5bmMgZT0+e2F3YWl0IHRoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlamVjdChlKTtjb25zdHtpZDpzLHJlYXNvbjp0fT1lLHtwYWlyaW5nVG9waWM6aX09dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHMpO2kmJihhd2FpdCB0aGlzLnNlbmRFcnJvcihzLGksdCksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKHMsUyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSl9LHRoaXMudXBkYXRlPWFzeW5jIGU9Pnthd2FpdCB0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRVcGRhdGUoZSk7Y29uc3R7dG9waWM6cyxuYW1lc3BhY2VzOnR9PWUsaT1hd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpzLG1ldGhvZDpcIndjX3Nlc3Npb25VcGRhdGVcIixwYXJhbXM6e25hbWVzcGFjZXM6dH19KSx7ZG9uZTpuLHJlc29sdmU6byxyZWplY3Q6YX09QygpO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKHUoXCJzZXNzaW9uX3VwZGF0ZVwiLGkpLCh7ZXJyb3I6Y30pPT57Yz9hKGMpOm8oKX0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHMse25hbWVzcGFjZXM6dH0pLHthY2tub3dsZWRnZWQ6bn19LHRoaXMuZXh0ZW5kPWFzeW5jIGU9Pnthd2FpdCB0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRFeHRlbmQoZSk7Y29uc3R7dG9waWM6c309ZSx0PWF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnMsbWV0aG9kOlwid2Nfc2Vzc2lvbkV4dGVuZFwiLHBhcmFtczp7fX0pLHtkb25lOmkscmVzb2x2ZTpuLHJlamVjdDpvfT1DKCk7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UodShcInNlc3Npb25fZXh0ZW5kXCIsdCksKHtlcnJvcjphfSk9PnthP28oYSk6bigpfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkocyxxKEwpKSx7YWNrbm93bGVkZ2VkOml9fSx0aGlzLnJlcXVlc3Q9YXN5bmMgZT0+e2F3YWl0IHRoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QoZSk7Y29uc3R7Y2hhaW5JZDpzLHJlcXVlc3Q6dCx0b3BpYzppLGV4cGlyeTpuPVIud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bH09ZSxvPUhlKCkse2RvbmU6YSxyZXNvbHZlOmMscmVqZWN0OnB9PUMobixcIlJlcXVlc3QgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UodShcInNlc3Npb25fcmVxdWVzdFwiLG8pLCh7ZXJyb3I6ZCxyZXN1bHQ6aH0pPT57ZD9wKGQpOmMoaCl9KSxhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoYXN5bmMgZD0+e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOm8sdG9waWM6aSxtZXRob2Q6XCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHBhcmFtczp7cmVxdWVzdDpEKGcoe30sdCkse2V4cGlyeVRpbWVzdGFtcDpxKG4pfSksY2hhaW5JZDpzfSxleHBpcnk6bix0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKGg9PnAoaCkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIix7dG9waWM6aSxyZXF1ZXN0OnQsY2hhaW5JZDpzLGlkOm99KSxkKCl9KSxuZXcgUHJvbWlzZShhc3luYyBkPT57Y29uc3QgaD1hd2FpdCBPZSh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UsSCk7VGUoe2lkOm8sdG9waWM6aSx3Y0RlZXBMaW5rOmh9KSxkKCl9KSxhKCldKS50aGVuKGQ9PmRbMl0pfSx0aGlzLnJlc3BvbmQ9YXN5bmMgZT0+e2F3YWl0IHRoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlc3BvbmQoZSk7Y29uc3R7dG9waWM6cyxyZXNwb25zZTp0fT1lLHtpZDppfT10O1AodCk/YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDppLHRvcGljOnMscmVzdWx0OnQucmVzdWx0LHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSk6dih0KSYmYXdhaXQgdGhpcy5zZW5kRXJyb3IoaSxzLHQuZXJyb3IpLHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UoZSl9LHRoaXMucGluZz1hc3luYyBlPT57YXdhaXQgdGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkUGluZyhlKTtjb25zdHt0b3BpYzpzfT1lO2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhzKSl7Y29uc3QgdD1hd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpzLG1ldGhvZDpcIndjX3Nlc3Npb25QaW5nXCIscGFyYW1zOnt9fSkse2RvbmU6aSxyZXNvbHZlOm4scmVqZWN0Om99PUMoKTt0aGlzLmV2ZW50cy5vbmNlKHUoXCJzZXNzaW9uX3BpbmdcIix0KSwoe2Vycm9yOmF9KT0+e2E/byhhKTpuKCl9KSxhd2FpdCBpKCl9ZWxzZSB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBpbmcoe3RvcGljOnN9KX0sdGhpcy5lbWl0PWFzeW5jIGU9Pnthd2FpdCB0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRFbWl0KGUpO2NvbnN0e3RvcGljOnMsZXZlbnQ6dCxjaGFpbklkOml9PWU7YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6cyxtZXRob2Q6XCJ3Y19zZXNzaW9uRXZlbnRcIixwYXJhbXM6e2V2ZW50OnQsY2hhaW5JZDppfX0pfSx0aGlzLmRpc2Nvbm5lY3Q9YXN5bmMgZT0+e2F3YWl0IHRoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoZSk7Y29uc3R7dG9waWM6c309ZTtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMocykpYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6cyxtZXRob2Q6XCJ3Y19zZXNzaW9uRGVsZXRlXCIscGFyYW1zOlMoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6cyxlbWl0RXZlbnQ6ITF9KTtlbHNlIGlmKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpKWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzpzfSk7ZWxzZXtjb25zdHttZXNzYWdlOnR9PWwoXCJNSVNNQVRDSEVEX1RPUElDXCIsYFNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBub3QgZm91bmQ6ICR7c31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fSx0aGlzLmZpbmQ9ZT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCkuZmlsdGVyKHM9PlZlKHMsZSkpKSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHM9KCk9PnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmdldEFsbCgpLHRoaXMuY2xlYW51cER1cGxpY2F0ZVBhaXJpbmdzPWFzeW5jIGU9PntpZihlLnBhaXJpbmdUb3BpYyl0cnl7Y29uc3Qgcz10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KGUucGFpcmluZ1RvcGljKSx0PXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXRBbGwoKS5maWx0ZXIoaT0+e3ZhciBuLG87cmV0dXJuKChuPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6bi51cmwpJiYoKG89aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpvLnVybCk9PT1lLnBlZXIubWV0YWRhdGEudXJsJiZpLnRvcGljJiZpLnRvcGljIT09cy50b3BpY30pO2lmKHQubGVuZ3RoPT09MClyZXR1cm47dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYENsZWFuaW5nIHVwICR7dC5sZW5ndGh9IGR1cGxpY2F0ZSBwYWlyaW5nKHMpYCksYXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoaT0+dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOmkudG9waWN9KSkpLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiRHVwbGljYXRlIHBhaXJpbmdzIGNsZWFuIHVwIGZpbmlzaGVkXCIpfWNhdGNoKHMpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihzKX19LHRoaXMuZGVsZXRlU2Vzc2lvbj1hc3luYyBlPT57Y29uc3R7dG9waWM6cyxleHBpcmVySGFzRGVsZXRlZDp0PSExLGVtaXRFdmVudDppPSEwLGlkOm49MH09ZSx7c2VsZjpvfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKTthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUocyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUocyxTKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhvLnB1YmxpY0tleSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZUtleVBhaXIoby5wdWJsaWNLZXkpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KHMpLHR8fHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwocyksdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oSCkuY2F0Y2goYT0+dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYSkpLHRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpLmZvckVhY2goYT0+e2EudG9waWM9PT1zJiZ0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChhLmlkLFMoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSl9KSxpJiZ0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIse2lkOm4sdG9waWM6c30pfSx0aGlzLmRlbGV0ZVByb3Bvc2FsPWFzeW5jKGUscyk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKGUsUyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKX0sdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3Q9YXN5bmMoZSxzLHQ9ITEpPT57YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmRlbGV0ZShlLHMpLHQ/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChlKV0pLHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWUuZmlsdGVyKGk9PmkuaWQhPT1lKSx0JiYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPUkuaWRsZSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIix7aWQ6ZX0pKX0sdGhpcy5zZXRFeHBpcnk9YXN5bmMoZSxzKT0+e3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7ZXhwaXJ5OnN9KSx0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUscyl9LHRoaXMuc2V0UHJvcG9zYWw9YXN5bmMoZSxzKT0+e2F3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLnNldChlLHMpLHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQoZSxxKFIud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCkpfSx0aGlzLnNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdD1hc3luYyBlPT57Y29uc3R7aWQ6cyx0b3BpYzp0LHBhcmFtczppLHZlcmlmeUNvbnRleHQ6bn09ZSxvPWkucmVxdWVzdC5leHBpcnlUaW1lc3RhbXB8fHEoUi53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsKTthd2FpdCB0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5zZXQocyx7aWQ6cyx0b3BpYzp0LHBhcmFtczppLHZlcmlmeUNvbnRleHQ6bn0pLG8mJnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQocyxvKX0sdGhpcy5zZW5kUmVxdWVzdD1hc3luYyBlPT57Y29uc3R7dG9waWM6cyxtZXRob2Q6dCxwYXJhbXM6aSxleHBpcnk6bixyZWxheVJwY0lkOm8sY2xpZW50UnBjSWQ6YSx0aHJvd09uRmFpbGVkUHVibGlzaDpjfT1lLHA9aih0LGksYSk7aWYoeGUoKSYmaGUuaW5jbHVkZXModCkpe2NvbnN0IE49eihKU09OLnN0cmluZ2lmeShwKSk7dGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2F0dGVzdGF0aW9uSWQ6Tn0pfWNvbnN0IGQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHMscCksaD1SW3RdLnJlcTtyZXR1cm4gbiYmKGgudHRsPW4pLG8mJihoLmlkPW8pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQocyxwKSxjPyhoLmludGVybmFsPUQoZyh7fSxoLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGQsaCkpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMsZCxoKS5jYXRjaChOPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoTikpLHAuaWR9LHRoaXMuc2VuZFJlc3VsdD1hc3luYyBlPT57Y29uc3R7aWQ6cyx0b3BpYzp0LHJlc3VsdDppLHRocm93T25GYWlsZWRQdWJsaXNoOm59PWUsbz1XZShzLGkpLGE9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHQsbyksYz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHQscykscD1SW2MucmVxdWVzdC5tZXRob2RdLnJlcztuPyhwLmludGVybmFsPUQoZyh7fSxwLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaCh0LGEscCkpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHQsYSxwKS5jYXRjaChkPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCkpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSx0aGlzLnNlbmRFcnJvcj1hc3luYyhlLHMsdCk9Pntjb25zdCBpPUJlKGUsdCksbj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxpKSxvPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKSxhPVJbby5yZXF1ZXN0Lm1ldGhvZF0ucmVzO3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMsbixhKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShpKX0sdGhpcy5jbGVhbnVwPWFzeW5jKCk9Pntjb25zdCBlPVtdLHM9W107dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKHQ9PntsZXQgaT0hMTtWKHQuZXhwaXJ5KSYmKGk9ITApLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyh0LnRvcGljKXx8KGk9ITApLGkmJmUucHVzaCh0LnRvcGljKX0pLHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZvckVhY2godD0+e1YodC5leHBpcnlUaW1lc3RhbXApJiZzLnB1c2godC5pZCl9KSxhd2FpdCBQcm9taXNlLmFsbChbLi4uZS5tYXAodD0+dGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0fSkpLC4uLnMubWFwKHQ9PnRoaXMuZGVsZXRlUHJvcG9zYWwodCkpXSl9LHRoaXMub25SZWxheUV2ZW50UmVxdWVzdD1hc3luYyBlPT57dGhpcy5yZXF1ZXN0UXVldWUucXVldWUucHVzaChlKSxhd2FpdCB0aGlzLnByb2Nlc3NSZXF1ZXN0c1F1ZXVlKCl9LHRoaXMucHJvY2Vzc1JlcXVlc3RzUXVldWU9YXN5bmMoKT0+e2lmKHRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPT09SS5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiUmVxdWVzdCBxdWV1ZSBhbHJlYWR5IGFjdGl2ZSwgc2tpcHBpbmcuLi5cIik7cmV0dXJufWZvcih0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgUmVxdWVzdCBxdWV1ZSBzdGFydGluZyB3aXRoICR7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RofSByZXF1ZXN0c2ApO3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLmxlbmd0aD4wOyl7dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9SS5hY3RpdmU7Y29uc3QgZT10aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5zaGlmdCgpO2lmKGUpdHJ5e3RoaXMucHJvY2Vzc1JlcXVlc3QoZSksYXdhaXQgbmV3IFByb21pc2Uocz0+c2V0VGltZW91dChzLDMwMCkpfWNhdGNoKHMpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKHMpfX10aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT1JLmlkbGV9LHRoaXMucHJvY2Vzc1JlcXVlc3Q9ZT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDp0fT1lLGk9dC5tZXRob2Q7c3dpdGNoKGkpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qocyx0KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdChzLHQpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0KHMsdCk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3Qocyx0KTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0KHMsdCk7Y2FzZVwid2Nfc2Vzc2lvbkRlbGV0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3Qocyx0KTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblJlcXVlc3Qocyx0KTtjYXNlXCJ3Y19zZXNzaW9uRXZlbnRcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3Qocyx0KTtkZWZhdWx0OnJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2QgJHtpfWApfX0sdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZT1hc3luYyBlPT57Y29uc3R7dG9waWM6cyxwYXlsb2FkOnR9PWUsaT0oYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChzLHQuaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2goaSl7Y2FzZVwid2Nfc2Vzc2lvblByb3Bvc2VcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVzcG9uc2Uocyx0KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2Uocyx0KTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uVXBkYXRlUmVzcG9uc2Uocyx0KTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2Uocyx0KTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZShzLHQpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlKHMsdCk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlc3BvbnNlIG1ldGhvZCAke2l9YCl9fSx0aGlzLm9uUmVsYXlFdmVudFVua25vd25QYXlsb2FkPWU9Pntjb25zdHt0b3BpYzpzfT1lLHttZXNzYWdlOnR9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgRGVjb2RlZCBwYXlsb2FkIG9uIHRvcGljICR7c30gaXMgbm90IGlkZW50aWZpYWJsZSBhcyBhIEpTT04tUlBDIHJlcXVlc3Qgb3IgYSByZXNwb25zZS5gKTt0aHJvdyBuZXcgRXJyb3IodCl9LHRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Q9YXN5bmMoZSxzKT0+e2NvbnN0e3BhcmFtczp0LGlkOml9PXM7dHJ5e3RoaXMuaXNWYWxpZENvbm5lY3QoZyh7fSxzLnBhcmFtcykpO2NvbnN0IG49dC5leHBpcnlUaW1lc3RhbXB8fHEoUi53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSxvPWcoe2lkOmkscGFpcmluZ1RvcGljOmUsZXhwaXJ5VGltZXN0YW1wOm59LHQpO2F3YWl0IHRoaXMuc2V0UHJvcG9zYWwoaSxvKTtjb25zdCBhPXooSlNPTi5zdHJpbmdpZnkocykpLGM9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KGEsby5wcm9wb3Nlci5tZXRhZGF0YSk7dGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3Byb3Bvc2FsXCIse2lkOmkscGFyYW1zOm8sdmVyaWZ5Q29udGV4dDpjfSl9Y2F0Y2gobil7YXdhaXQgdGhpcy5zZW5kRXJyb3IoaSxlLG4pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuKX19LHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlPWFzeW5jKGUscyk9Pntjb25zdHtpZDp0fT1zO2lmKFAocykpe2NvbnN0e3Jlc3VsdDppfT1zO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHJlc3VsdDppfSk7Y29uc3Qgbj10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQodCk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscHJvcG9zYWw6bn0pO2NvbnN0IG89bi5wcm9wb3Nlci5wdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2VsZlB1YmxpY0tleTpvfSk7Y29uc3QgYT1pLnJlc3BvbmRlclB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwZWVyUHVibGljS2V5OmF9KTtjb25zdCBjPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KG8sYSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2Vzc2lvblRvcGljOmN9KTtjb25zdCBwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoYyk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc3Vic2NyaXB0aW9uSWQ6cH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6ZX0pfWVsc2UgdihzKSYmKGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LFMoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdCh1KFwic2Vzc2lvbl9jb25uZWN0XCIpLHtlcnJvcjpzLmVycm9yfSkpfSx0aGlzLm9uU2Vzc2lvblNldHRsZVJlcXVlc3Q9YXN5bmMoZSxzKT0+e2NvbnN0e2lkOnQscGFyYW1zOml9PXM7dHJ5e3RoaXMuaXNWYWxpZFNlc3Npb25TZXR0bGVSZXF1ZXN0KGkpO2NvbnN0e3JlbGF5Om4sY29udHJvbGxlcjpvLGV4cGlyeTphLG5hbWVzcGFjZXM6YyxzZXNzaW9uUHJvcGVydGllczpwLHBhaXJpbmdUb3BpYzpkfT1zLnBhcmFtcyxoPWcoe3RvcGljOmUscmVsYXk6bixleHBpcnk6YSxuYW1lc3BhY2VzOmMsYWNrbm93bGVkZ2VkOiEwLHBhaXJpbmdUb3BpYzpkLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30sY29udHJvbGxlcjpvLnB1YmxpY0tleSxzZWxmOntwdWJsaWNLZXk6XCJcIixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5Om8ucHVibGljS2V5LG1ldGFkYXRhOm8ubWV0YWRhdGF9fSxwJiZ7c2Vzc2lvblByb3BlcnRpZXM6cH0pO2F3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6cy5pZCx0b3BpYzplLHJlc3VsdDohMH0pLHRoaXMuZXZlbnRzLmVtaXQodShcInNlc3Npb25fY29ubmVjdFwiKSx7c2Vzc2lvbjpofSksdGhpcy5jbGVhbnVwRHVwbGljYXRlUGFpcmluZ3MoaCl9Y2F0Y2gobil7YXdhaXQgdGhpcy5zZW5kRXJyb3IodCxlLG4pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuKX19LHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2U9YXN5bmMoZSxzKT0+e2NvbnN0e2lkOnR9PXM7UChzKT8oYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7YWNrbm93bGVkZ2VkOiEwfSksdGhpcy5ldmVudHMuZW1pdCh1KFwic2Vzc2lvbl9hcHByb3ZlXCIsdCkse30pKTp2KHMpJiYoYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUoZSxTKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuZXZlbnRzLmVtaXQodShcInNlc3Npb25fYXBwcm92ZVwiLHQpLHtlcnJvcjpzLmVycm9yfSkpfSx0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlcXVlc3Q9YXN5bmMoZSxzKT0+e2NvbnN0e3BhcmFtczp0LGlkOml9PXM7dHJ5e2NvbnN0IG49YCR7ZX1fc2Vzc2lvbl91cGRhdGVgLG89JC5nZXQobik7aWYobyYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobyxpKSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7aX1gKTtyZXR1cm59dGhpcy5pc1ZhbGlkVXBkYXRlKGcoe3RvcGljOmV9LHQpKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtuYW1lc3BhY2VzOnQubmFtZXNwYWNlc30pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzplLHJlc3VsdDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7aWQ6aSx0b3BpYzplLHBhcmFtczp0fSksJC5zZXQobixpKX1jYXRjaChuKXthd2FpdCB0aGlzLnNlbmRFcnJvcihpLGUsbiksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKG4pfX0sdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmM9KGUscyk9PnBhcnNlSW50KHMudG9TdHJpbmcoKS5zbGljZSgwLC0zKSk8PXBhcnNlSW50KGUudG9TdHJpbmcoKS5zbGljZSgwLC0zKSksdGhpcy5vblNlc3Npb25VcGRhdGVSZXNwb25zZT0oZSxzKT0+e2NvbnN0e2lkOnR9PXM7UChzKT90aGlzLmV2ZW50cy5lbWl0KHUoXCJzZXNzaW9uX3VwZGF0ZVwiLHQpLHt9KTp2KHMpJiZ0aGlzLmV2ZW50cy5lbWl0KHUoXCJzZXNzaW9uX3VwZGF0ZVwiLHQpLHtlcnJvcjpzLmVycm9yfSl9LHRoaXMub25TZXNzaW9uRXh0ZW5kUmVxdWVzdD1hc3luYyhlLHMpPT57Y29uc3R7aWQ6dH09czt0cnl7dGhpcy5pc1ZhbGlkRXh0ZW5kKHt0b3BpYzplfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkoZSxxKEwpKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnQsdG9waWM6ZSxyZXN1bHQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXh0ZW5kXCIse2lkOnQsdG9waWM6ZX0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHQsZSxpKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSx0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlc3BvbnNlPShlLHMpPT57Y29uc3R7aWQ6dH09cztQKHMpP3RoaXMuZXZlbnRzLmVtaXQodShcInNlc3Npb25fZXh0ZW5kXCIsdCkse30pOnYocykmJnRoaXMuZXZlbnRzLmVtaXQodShcInNlc3Npb25fZXh0ZW5kXCIsdCkse2Vycm9yOnMuZXJyb3J9KX0sdGhpcy5vblNlc3Npb25QaW5nUmVxdWVzdD1hc3luYyhlLHMpPT57Y29uc3R7aWQ6dH09czt0cnl7dGhpcy5pc1ZhbGlkUGluZyh7dG9waWM6ZX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6dCx0b3BpYzplLHJlc3VsdDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIse2lkOnQsdG9waWM6ZX0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHQsZSxpKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSx0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZT0oZSxzKT0+e2NvbnN0e2lkOnR9PXM7c2V0VGltZW91dCgoKT0+e1Aocyk/dGhpcy5ldmVudHMuZW1pdCh1KFwic2Vzc2lvbl9waW5nXCIsdCkse30pOnYocykmJnRoaXMuZXZlbnRzLmVtaXQodShcInNlc3Npb25fcGluZ1wiLHQpLHtlcnJvcjpzLmVycm9yfSl9LDUwMCl9LHRoaXMub25TZXNzaW9uRGVsZXRlUmVxdWVzdD1hc3luYyhlLHMpPT57Y29uc3R7aWQ6dH09czt0cnl7dGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh7dG9waWM6ZSxyZWFzb246cy5wYXJhbXN9KSxhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoaT0+e3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbmNlKFoucHVibGlzaCxhc3luYygpPT57aShhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOmUsaWQ6dH0pKX0pfSksdGhpcy5zZW5kUmVzdWx0KHtpZDp0LHRvcGljOmUscmVzdWx0OiEwfSksdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHt0b3BpYzplLGVycm9yOlMoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKX0pXSl9Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0sdGhpcy5vblNlc3Npb25SZXF1ZXN0PWFzeW5jKGUscyk9Pntjb25zdHtpZDp0LHBhcmFtczppfT1zO3RyeXt0aGlzLmlzVmFsaWRSZXF1ZXN0KGcoe3RvcGljOmV9LGkpKTtjb25zdCBuPXooSlNPTi5zdHJpbmdpZnkoaihcIndjX3Nlc3Npb25SZXF1ZXN0XCIsaSx0KSkpLG89dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSksYT1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQobixvLnBlZXIubWV0YWRhdGEpLGM9e2lkOnQsdG9waWM6ZSxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OmF9O2F3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGMpLHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUoYyksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfWNhdGNoKG4pe2F3YWl0IHRoaXMuc2VuZEVycm9yKHQsZSxuKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iobil9fSx0aGlzLm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZT0oZSxzKT0+e2NvbnN0e2lkOnR9PXM7UChzKT90aGlzLmV2ZW50cy5lbWl0KHUoXCJzZXNzaW9uX3JlcXVlc3RcIix0KSx7cmVzdWx0OnMucmVzdWx0fSk6dihzKSYmdGhpcy5ldmVudHMuZW1pdCh1KFwic2Vzc2lvbl9yZXF1ZXN0XCIsdCkse2Vycm9yOnMuZXJyb3J9KX0sdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3Q9YXN5bmMoZSxzKT0+e2NvbnN0e2lkOnQscGFyYW1zOml9PXM7dHJ5e2NvbnN0IG49YCR7ZX1fc2Vzc2lvbl9ldmVudF8ke2kuZXZlbnQubmFtZX1gLG89JC5nZXQobik7aWYobyYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobyx0KSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7dH1gKTtyZXR1cm59dGhpcy5pc1ZhbGlkRW1pdChnKHt0b3BpYzplfSxpKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V2ZW50XCIse2lkOnQsdG9waWM6ZSxwYXJhbXM6aX0pLCQuc2V0KG4sdCl9Y2F0Y2gobil7YXdhaXQgdGhpcy5zZW5kRXJyb3IodCxlLG4pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuKX19LHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWU9ZT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKGUpfSx0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlPWU9Pnt0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChlLnJlc3BvbnNlLmlkLHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSksc2V0VGltZW91dCgoKT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT1JLmlkbGUsdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxuZSh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSl9LHRoaXMuY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpYz0oe3RvcGljOmUsZXJyb3I6c30pPT57Y29uc3QgdD10aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucGVuZGluZzt0Lmxlbmd0aD4wJiZ0LmZpbHRlcihpPT5pLnRvcGljPT09ZSYmaS5yZXF1ZXN0Lm1ldGhvZD09PVwid2Nfc2Vzc2lvblJlcXVlc3RcIikuZm9yRWFjaChpPT57dGhpcy5ldmVudHMuZW1pdCh1KFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6c30pfSl9LHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWU9KCk9PntpZih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9PT1JLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgYWxyZWFkeSBhY3RpdmUuXCIpO3JldHVybn1jb25zdCBlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXTtpZighZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgZW1wdHkuXCIpO3JldHVybn10cnl7dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPUkuYWN0aXZlLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0XCIsZSl9Y2F0Y2gocyl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHMpfX0sdGhpcy5vblBhaXJpbmdDcmVhdGVkPWU9PntpZihlLmFjdGl2ZSlyZXR1cm47Y29uc3Qgcz10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5maW5kKHQ9PnQucGFpcmluZ1RvcGljPT09ZS50b3BpYyk7cyYmdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdChlLnRvcGljLGooXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHtyZXF1aXJlZE5hbWVzcGFjZXM6cy5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnMub3B0aW9uYWxOYW1lc3BhY2VzLHJlbGF5czpzLnJlbGF5cyxwcm9wb3NlcjpzLnByb3Bvc2VyLHNlc3Npb25Qcm9wZXJ0aWVzOnMuc2Vzc2lvblByb3BlcnRpZXN9LHMuaWQpKX0sdGhpcy5pc1ZhbGlkQ29ubmVjdD1hc3luYyBlPT57aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6YX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcGFyYW1zOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHtwYWlyaW5nVG9waWM6cyxyZXF1aXJlZE5hbWVzcGFjZXM6dCxvcHRpb25hbE5hbWVzcGFjZXM6aSxzZXNzaW9uUHJvcGVydGllczpuLHJlbGF5czpvfT1lO2lmKEEocyl8fGF3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhzKSwhRGUobywhMCkpe2NvbnN0e21lc3NhZ2U6YX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcmVsYXlzOiAke299YCk7dGhyb3cgbmV3IEVycm9yKGEpfSFBKHQpJiZlZSh0KSE9PTAmJnRoaXMudmFsaWRhdGVOYW1lc3BhY2VzKHQsXCJyZXF1aXJlZE5hbWVzcGFjZXNcIiksIUEoaSkmJmVlKGkpIT09MCYmdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMoaSxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxBKG4pfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG4sXCJzZXNzaW9uUHJvcGVydGllc1wiKX0sdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXM9KGUscyk9Pntjb25zdCB0PUNlKGUsXCJjb25uZWN0KClcIixzKTtpZih0KXRocm93IG5ldyBFcnJvcih0Lm1lc3NhZ2UpfSx0aGlzLmlzVmFsaWRBcHByb3ZlPWFzeW5jIGU9PntpZigheShlKSl0aHJvdyBuZXcgRXJyb3IobChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcGFyYW1zOiAke2V9YCkubWVzc2FnZSk7Y29uc3R7aWQ6cyxuYW1lc3BhY2VzOnQscmVsYXlQcm90b2NvbDppLHNlc3Npb25Qcm9wZXJ0aWVzOm59PWU7YXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChzKTtjb25zdCBvPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChzKSxhPVkodCxcImFwcHJvdmUoKVwiKTtpZihhKXRocm93IG5ldyBFcnJvcihhLm1lc3NhZ2UpO2NvbnN0IGM9c2Uoby5yZXF1aXJlZE5hbWVzcGFjZXMsdCxcImFwcHJvdmUoKVwiKTtpZihjKXRocm93IG5ldyBFcnJvcihjLm1lc3NhZ2UpO2lmKCFiKGksITApKXtjb25zdHttZXNzYWdlOnB9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHJlbGF5UHJvdG9jb2w6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3IocCl9QShuKXx8dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhuLFwic2Vzc2lvblByb3BlcnRpZXNcIil9LHRoaXMuaXNWYWxpZFJlamVjdD1hc3luYyBlPT57aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6aX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9Y29uc3R7aWQ6cyxyZWFzb246dH09ZTtpZihhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHMpLCFBZSh0KSl7Y29uc3R7bWVzc2FnZTppfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHJlYXNvbjogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9fSx0aGlzLmlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdD1lPT57aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6Y309bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGMpfWNvbnN0e3JlbGF5OnMsY29udHJvbGxlcjp0LG5hbWVzcGFjZXM6aSxleHBpcnk6bn09ZTtpZighYmUocykpe2NvbnN0e21lc3NhZ2U6Y309bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHJlbGF5IHByb3RvY29sIHNob3VsZCBiZSBhIHN0cmluZ1wiKTt0aHJvdyBuZXcgRXJyb3IoYyl9Y29uc3Qgbz1MZSh0LFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKG8pdGhyb3cgbmV3IEVycm9yKG8ubWVzc2FnZSk7Y29uc3QgYT1ZKGksXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7aWYoYSl0aHJvdyBuZXcgRXJyb3IoYS5tZXNzYWdlKTtpZihWKG4pKXtjb25zdHttZXNzYWdlOmN9PWwoXCJFWFBJUkVEXCIsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7dGhyb3cgbmV3IEVycm9yKGMpfX0sdGhpcy5pc1ZhbGlkVXBkYXRlPWFzeW5jIGU9PntpZigheShlKSl7Y29uc3R7bWVzc2FnZTphfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHVwZGF0ZSgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzpzLG5hbWVzcGFjZXM6dH09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocyk7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKSxuPVkodCxcInVwZGF0ZSgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7Y29uc3Qgbz1zZShpLnJlcXVpcmVkTmFtZXNwYWNlcyx0LFwidXBkYXRlKClcIik7aWYobyl0aHJvdyBuZXcgRXJyb3Ioby5tZXNzYWdlKX0sdGhpcy5pc1ZhbGlkRXh0ZW5kPWFzeW5jIGU9PntpZigheShlKSl7Y29uc3R7bWVzc2FnZTp0fT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGV4dGVuZCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcih0KX1jb25zdHt0b3BpYzpzfT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhzKX0sdGhpcy5pc1ZhbGlkUmVxdWVzdD1hc3luYyBlPT57aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6YX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWNvbnN0e3RvcGljOnMscmVxdWVzdDp0LGNoYWluSWQ6aSxleHBpcnk6bn09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocyk7Y29uc3R7bmFtZXNwYWNlczpvfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKTtpZighdGUobyxpKSl7Y29uc3R7bWVzc2FnZTphfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCEkZSh0KSl7Y29uc3R7bWVzc2FnZTphfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KHQpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighR2UobyxpLHQubWV0aG9kKSl7Y29uc3R7bWVzc2FnZTphfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBtZXRob2Q6ICR7dC5tZXRob2R9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKG4mJiFNZShuLFUpKXtjb25zdHttZXNzYWdlOmF9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIGV4cGlyeTogJHtufS4gRXhwaXJ5IG11c3QgYmUgYSBudW1iZXIgKGluIHNlY29uZHMpIGJldHdlZW4gJHtVLm1pbn0gYW5kICR7VS5tYXh9YCk7dGhyb3cgbmV3IEVycm9yKGEpfX0sdGhpcy5pc1ZhbGlkUmVzcG9uZD1hc3luYyBlPT57dmFyIHM7aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6bn09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXNwb25kKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOnQscmVzcG9uc2U6aX09ZTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHQpfWNhdGNoKG4pe3Rocm93KHM9ZT8ucmVzcG9uc2UpIT1udWxsJiZzLmlkJiZ0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlKGUpLG59aWYoIVVlKGkpKXtjb25zdHttZXNzYWdlOm59PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KGkpfWApO3Rocm93IG5ldyBFcnJvcihuKX19LHRoaXMuaXNWYWxpZFBpbmc9YXN5bmMgZT0+e2lmKCF5KGUpKXtjb25zdHttZXNzYWdlOnR9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcih0KX1jb25zdHt0b3BpYzpzfT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhzKX0sdGhpcy5pc1ZhbGlkRW1pdD1hc3luYyBlPT57aWYoIXkoZSkpe2NvbnN0e21lc3NhZ2U6b309bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKG8pfWNvbnN0e3RvcGljOnMsZXZlbnQ6dCxjaGFpbklkOml9PWU7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHMpO2NvbnN0e25hbWVzcGFjZXM6bn09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocyk7aWYoIXRlKG4saSkpe2NvbnN0e21lc3NhZ2U6b309bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgY2hhaW5JZDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihvKX1pZighUWUodCkpe2NvbnN0e21lc3NhZ2U6b309bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkodCl9YCk7dGhyb3cgbmV3IEVycm9yKG8pfWlmKCFrZShuLGksdC5uYW1lKSl7Y29uc3R7bWVzc2FnZTpvfT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTt0aHJvdyBuZXcgRXJyb3Iobyl9fSx0aGlzLmlzVmFsaWREaXNjb25uZWN0PWFzeW5jIGU9PntpZigheShlKSl7Y29uc3R7bWVzc2FnZTp0fT1sKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IodCl9Y29uc3R7dG9waWM6c309ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMocyl9LHRoaXMuZ2V0VmVyaWZ5Q29udGV4dD1hc3luYyhlLHMpPT57Y29uc3QgdD17dmVyaWZpZWQ6e3ZlcmlmeVVybDpzLnZlcmlmeVVybHx8eWUsdmFsaWRhdGlvbjpcIlVOS05PV05cIixvcmlnaW46cy51cmx8fFwiXCJ9fTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnZlcmlmeS5yZXNvbHZlKHthdHRlc3RhdGlvbklkOmUsdmVyaWZ5VXJsOnMudmVyaWZ5VXJsfSk7aSYmKHQudmVyaWZpZWQub3JpZ2luPWkub3JpZ2luLHQudmVyaWZpZWQuaXNTY2FtPWkuaXNTY2FtLHQudmVyaWZpZWQudmFsaWRhdGlvbj1pLm9yaWdpbj09PW5ldyBVUkwocy51cmwpLm9yaWdpbj9cIlZBTElEXCI6XCJJTlZBTElEXCIpfWNhdGNoKGkpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGkpfXJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVmVyaWZ5IGNvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkodCl9YCksdH0sdGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcz0oZSxzKT0+e09iamVjdC52YWx1ZXMoZSkuZm9yRWFjaCh0PT57aWYoIWIodCwhMSkpe2NvbnN0e21lc3NhZ2U6aX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke3N9IG11c3QgYmUgaW4gUmVjb3JkPHN0cmluZywgc3RyaW5nPiBmb3JtYXQuIFJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHQpfWApO3Rocm93IG5ldyBFcnJvcihpKX19KX19YXN5bmMgaXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOnJ9PWwoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihyKX1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbihaLm1lc3NhZ2UsYXN5bmMgcj0+e2NvbnN0e3RvcGljOmUsbWVzc2FnZTpzfT1yO2lmKHRoaXMuaWdub3JlZFBheWxvYWRUeXBlcy5pbmNsdWRlcyh0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZXRQYXlsb2FkVHlwZShzKSkpcmV0dXJuO2NvbnN0IHQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVjb2RlKGUscyk7dHJ5e1plKHQpPyh0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUsdCksdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6dH0pKTplcyh0KT8oYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUodCksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSh7dG9waWM6ZSxwYXlsb2FkOnR9KSx0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZGVsZXRlKGUsdC5pZCkpOnRoaXMub25SZWxheUV2ZW50VW5rbm93blBheWxvYWQoe3RvcGljOmUscGF5bG9hZDp0fSl9Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pfXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5vbihTZS5leHBpcmVkLGFzeW5jIHI9Pntjb25zdHt0b3BpYzplLGlkOnN9PUtlKHIudGFyZ2V0KTtpZihzJiZ0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5rZXlzLmluY2x1ZGVzKHMpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChzLGwoXCJFWFBJUkVEXCIpLCEwKTtlP3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxleHBpcmVySGFzRGVsZXRlZDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHBpcmVcIix7dG9waWM6ZX0pKTpzJiYoYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChzLCEwKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInByb3Bvc2FsX2V4cGlyZVwiLHtpZDpzfSkpfSl9cmVnaXN0ZXJQYWlyaW5nRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihFZS5jcmVhdGUscj0+dGhpcy5vblBhaXJpbmdDcmVhdGVkKHIpKX1pc1ZhbGlkUGFpcmluZ1RvcGljKHIpe2lmKCFiKHIsITEpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7cn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoIXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHIpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke3J9YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKFYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChyKS5leHBpcnkpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7cn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uVG9waWMocil7aWYoIWIociwhMSkpe2NvbnN0e21lc3NhZ2U6ZX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtyfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHIpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJOT19NQVRDSElOR19LRVlcIixgc2Vzc2lvbiB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke3J9YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKFYodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocikuZXhwaXJ5KSl7YXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpyfSk7Y29uc3R7bWVzc2FnZTplfT1sKFwiRVhQSVJFRFwiLGBzZXNzaW9uIHRvcGljOiAke3J9YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocikpe2NvbnN0e21lc3NhZ2U6ZX09bChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIGRvZXMgbm90IGV4aXN0IGluIGtleWNoYWluOiAke3J9YCk7dGhyb3cgYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpyfSksbmV3IEVycm9yKGUpfX1hc3luYyBpc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKHIpe2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhyKSlhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocik7ZWxzZSBpZih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhyKSl0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocik7ZWxzZSBpZihiKHIsITEpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJOT19NQVRDSElOR19LRVlcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7cn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9ZWxzZXtjb25zdHttZXNzYWdlOmV9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtyfWApO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFByb3Bvc2FsSWQocil7aWYoIXplKHIpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcHJvcG9zYWwgaWQgc2hvdWxkIGJlIGEgbnVtYmVyOiAke3J9YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5wcm9wb3NhbC5rZXlzLmluY2x1ZGVzKHIpKXtjb25zdHttZXNzYWdlOmV9PWwoXCJOT19NQVRDSElOR19LRVlcIixgcHJvcG9zYWwgaWQgZG9lc24ndCBleGlzdDogJHtyfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihWKHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChyKS5leHBpcnlUaW1lc3RhbXApKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKHIpO2NvbnN0e21lc3NhZ2U6ZX09bChcIkVYUElSRURcIixgcHJvcG9zYWwgaWQ6ICR7cn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX1jbGFzcyB1cyBleHRlbmRzIEt7Y29uc3RydWN0b3IocixlKXtzdXBlcihyLGUsb2UsRyksdGhpcy5jb3JlPXIsdGhpcy5sb2dnZXI9ZX19Y2xhc3MgZ2UgZXh0ZW5kcyBLe2NvbnN0cnVjdG9yKHIsZSl7c3VwZXIocixlLGNlLEcpLHRoaXMuY29yZT1yLHRoaXMubG9nZ2VyPWV9fWNsYXNzIGdzIGV4dGVuZHMgS3tjb25zdHJ1Y3RvcihyLGUpe3N1cGVyKHIsZSxwZSxHLHM9PnMuaWQpLHRoaXMuY29yZT1yLHRoaXMubG9nZ2VyPWV9fWNsYXNzIFEgZXh0ZW5kcyBQZXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKSx0aGlzLnByb3RvY29sPUosdGhpcy52ZXJzaW9uPUYsdGhpcy5uYW1lPU0ubmFtZSx0aGlzLmV2ZW50cz1uZXcgSmUsdGhpcy5vbj0ocyx0KT0+dGhpcy5ldmVudHMub24ocyx0KSx0aGlzLm9uY2U9KHMsdCk9PnRoaXMuZXZlbnRzLm9uY2Uocyx0KSx0aGlzLm9mZj0ocyx0KT0+dGhpcy5ldmVudHMub2ZmKHMsdCksdGhpcy5yZW1vdmVMaXN0ZW5lcj0ocyx0KT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIocyx0KSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycz1zPT50aGlzLmV2ZW50cy5yZW1vdmVBbGxMaXN0ZW5lcnMocyksdGhpcy5jb25uZWN0PWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmNvbm5lY3Qocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5wYWlyPWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBhaXIocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5hcHByb3ZlPWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmUocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5yZWplY3Q9YXN5bmMgcz0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0KHMpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQubWVzc2FnZSksdH19LHRoaXMudXBkYXRlPWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnVwZGF0ZShzKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0Lm1lc3NhZ2UpLHR9fSx0aGlzLmV4dGVuZD1hc3luYyBzPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5leHRlbmQocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5yZXF1ZXN0PWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlcXVlc3Qocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5yZXNwb25kPWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlc3BvbmQocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5waW5nPWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBpbmcocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5lbWl0PWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmVtaXQocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5kaXNjb25uZWN0PWFzeW5jIHM9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmRpc2Nvbm5lY3Qocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5maW5kPXM9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZpbmQocyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodC5tZXNzYWdlKSx0fX0sdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzPSgpPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0sdGhpcy5uYW1lPXI/Lm5hbWV8fE0ubmFtZSx0aGlzLm1ldGFkYXRhPXI/Lm1ldGFkYXRhfHxZZSgpO2NvbnN0IGU9dHlwZW9mIHI/LmxvZ2dlcjxcInVcIiYmdHlwZW9mIHI/LmxvZ2dlciE9XCJzdHJpbmdcIj9yLmxvZ2dlcjpJZShfZSh7bGV2ZWw6cj8ubG9nZ2VyfHxNLmxvZ2dlcn0pKTt0aGlzLmNvcmU9cj8uY29yZXx8bmV3IFJlKHIpLHRoaXMubG9nZ2VyPXFlKGUsdGhpcy5uYW1lKSx0aGlzLnNlc3Npb249bmV3IGdlKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5wcm9wb3NhbD1uZXcgdXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW5ldyBncyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMuZW5naW5lPW5ldyBkcyh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChyKXtjb25zdCBlPW5ldyBRKHIpO3JldHVybiBhd2FpdCBlLmluaXRpYWxpemUoKSxlfWdldCBjb250ZXh0KCl7cmV0dXJuIE5lKHRoaXMubG9nZ2VyKX1nZXQgcGFpcmluZygpe3JldHVybiB0aGlzLmNvcmUucGFpcmluZy5wYWlyaW5nc31hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7YXdhaXQgdGhpcy5jb3JlLnN0YXJ0KCksYXdhaXQgdGhpcy5zZXNzaW9uLmluaXQoKSxhd2FpdCB0aGlzLnByb3Bvc2FsLmluaXQoKSxhd2FpdCB0aGlzLnBlbmRpbmdSZXF1ZXN0LmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5jb3JlLnZlcmlmeS5pbml0KHt2ZXJpZnlVcmw6dGhpcy5tZXRhZGF0YS52ZXJpZnlVcmx9KSx0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBTdWNjZXNzXCIpfWNhdGNoKHIpe3Rocm93IHRoaXMubG9nZ2VyLmluZm8oXCJTaWduQ2xpZW50IEluaXRpYWxpemF0aW9uIEZhaWx1cmVcIiksdGhpcy5sb2dnZXIuZXJyb3Ioci5tZXNzYWdlKSxyfX19Y29uc3Qgd3M9Z2UsbXM9UTtleHBvcnR7bGUgYXMgRU5HSU5FX0NPTlRFWFQsSSBhcyBFTkdJTkVfUVVFVUVfU1RBVEVTLFIgYXMgRU5HSU5FX1JQQ19PUFRTLHJzIGFzIEhJU1RPUllfQ09OVEVYVCxpcyBhcyBISVNUT1JZX0VWRU5UUyxucyBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixoZSBhcyBNRVRIT0RTX1RPX1ZFUklGWSxvZSBhcyBQUk9QT1NBTF9DT05URVhULG9zIGFzIFBST1BPU0FMX0VYUElSWSxhZSBhcyBQUk9QT1NBTF9FWFBJUllfTUVTU0FHRSxwZSBhcyBSRVFVRVNUX0NPTlRFWFQsY2UgYXMgU0VTU0lPTl9DT05URVhULEwgYXMgU0VTU0lPTl9FWFBJUlksVSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsWCBhcyBTSUdOX0NMSUVOVF9DT05URVhULE0gYXMgU0lHTl9DTElFTlRfREVGQVVMVCxzcyBhcyBTSUdOX0NMSUVOVF9FVkVOVFMsSiBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCx0cyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsRyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX1BSRUZJWCxGIGFzIFNJR05fQ0xJRU5UX1ZFUlNJT04sd3MgYXMgU2Vzc2lvblN0b3JlLG1zIGFzIFNpZ25DbGllbnQsSCBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxRIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@walletconnect+sign-client@_7607849e1bd95aae02e8d875bacc39b9/node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ })

};
;